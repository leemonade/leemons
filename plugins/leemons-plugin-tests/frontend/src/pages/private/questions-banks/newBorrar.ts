const leemonsMonoResponseQuestions = {
  basicWithLevel: {
    _id: '66911fd4024d3485f91da7ed',
    id: 'lrn:local:tests:local:665a05e7a5fe771aef0e881d:Questions:66911fd4c00cae40605a0726',
    deploymentID: '665a05e7a5fe771aef0e881d',
    questionBank:
      'lrn:local:common:local:665a05e7a5fe771aef0e881d:CurrentVersions:66911fd4c00cae40605a070e@1.0.0',
    type: 'mono-response',
    level: 'beginner',
    question: '<p style="margin-left: 0px!important;">Con nivel</p>',
    clues: [],
    category: null,
    properties: {
      responses: [
        {
          value: {
            response: 'Respuesta 1',
            isCorrectResponse: true,
          },
        },
        {
          value: {
            response: 'Respuesta 2',
            isCorrectResponse: false,
          },
        },
      ],
    },
    isDeleted: false,
    deletedAt: null,
    createdAt: '2024-07-12T12:21:40.303Z',
    updatedAt: '2024-07-12T12:21:40.303Z',
    __v: 0,
    tags: [],
  },
  basicWithCategory: {
    _id: '66911fd4024d3485f91da7ef',
    id: 'lrn:local:tests:local:665a05e7a5fe771aef0e881d:Questions:66911fd4c00cae40605a0728',
    deploymentID: '665a05e7a5fe771aef0e881d',
    questionBank:
      'lrn:local:common:local:665a05e7a5fe771aef0e881d:CurrentVersions:66911fd4c00cae40605a070e@1.0.0',
    type: 'mono-response',
    question:
      '<p style="margin-left: 0px!important;">Con categoría 1 (no había ninguna opción antes)</p>',
    clues: [],
    category:
      'lrn:local:tests:local:665a05e7a5fe771aef0e881d:QuestionBankCategories:66911fd4c00cae40605a0724',
    properties: {
      responses: [
        {
          value: {
            response: 'Respuesta 1',
            isCorrectResponse: true,
          },
        },
        {
          value: {
            response: 'Respuesta 2',
            isCorrectResponse: false,
          },
        },
      ],
    },
    isDeleted: false,
    deletedAt: null,
    createdAt: '2024-07-12T12:21:40.303Z',
    updatedAt: '2024-07-12T12:21:40.303Z',
    __v: 0,
    tags: [],
  },
  basicWithFeaturedImage: {
    _id: '66911fd4024d3485f91da95a',
    id: 'lrn:local:tests:local:665a05e7a5fe771aef0e881d:Questions:66911fd4c00cae40605a0787',
    deploymentID: '665a05e7a5fe771aef0e881d',
    questionBank:
      'lrn:local:common:local:665a05e7a5fe771aef0e881d:CurrentVersions:66911fd4c00cae40605a070e@1.0.0',
    type: 'mono-response',
    question: '<p style="margin-left: 0px!important;">Pregunta con imagen destacada</p>',
    questionImage: {
      _id: '66911fd4024d3485f91da8b1',
      id: 'lrn:local:common:local:665a05e7a5fe771aef0e881d:CurrentVersions:66911fd4c00cae40605a0736@1.0.0',
      deploymentID: '665a05e7a5fe771aef0e881d',
      name: 'Image question',
      cover: {
        _id: '668fd3abaf508021a39c8618',
        id: 'lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Files:668fd3abdce977b2dd1450a2',
        deploymentID: '665a05e7a5fe771aef0e881d',
        provider: 'leebrary-aws-s3',
        type: 'image/jpeg',
        extension: 'jpeg',
        name: 'brett-jordan-Fp4ERdkR5jU-unsplash',
        size: 25438,
        uri: 'leemons/665a05e7a5fe771aef0e881d/leebrary/lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Files:668fd3abdce977b2dd1450a2.jpeg',
        metadata: '{"size":"24.8 KB","format":"JPEG","width":"800","height":"600"}',
        isDeleted: false,
        deletedAt: null,
        createdAt: '2024-07-11T12:44:27.015Z',
        updatedAt: '2024-07-11T12:44:27.243Z',
        __v: 0,
      },
      fromUser: 'lrn:local:users:local:665a05e7a5fe771aef0e881d:Users:665a05f38e2c5a70486025c5',
      fromUserAgent:
        'lrn:local:users:local:665a05e7a5fe771aef0e881d:UserAgent:668fd3fadce977b2dd145496',
      public: true,
      category:
        'lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Categories:665a05ee8e2c5a7048602414',
      indexable: false,
      isCover: false,
      isDeleted: false,
      deletedAt: null,
      createdAt: '2024-07-12T12:21:40.331Z',
      updatedAt: '2024-07-12T12:21:40.331Z',
      __v: 0,
      permissions: {
        viewer: [],
        editor: [],
      },
      duplicable: true,
      downloadable: true,
      tags: [],
      pinned: false,
    },
    clues: [],
    category: null,
    properties: {
      hasCover: true,
      responses: [
        {
          value: {
            response: 'Respuesta 1',
            isCorrectResponse: true,
          },
        },
        {
          value: {
            response: 'Respuesta 2',
            isCorrectResponse: false,
          },
        },
      ],
    },
    isDeleted: false,
    deletedAt: null,
    createdAt: '2024-07-12T12:21:40.355Z',
    updatedAt: '2024-07-12T12:21:40.355Z',
    __v: 0,
    tags: [],
  },
  basicWithGlobalExplanation: {
    _id: '66911fd4024d3485f91da802',
    id: 'lrn:local:tests:local:665a05e7a5fe771aef0e881d:Questions:66911fd4c00cae40605a0734',
    deploymentID: '665a05e7a5fe771aef0e881d',
    questionBank:
      'lrn:local:common:local:665a05e7a5fe771aef0e881d:CurrentVersions:66911fd4c00cae40605a070e@1.0.0',
    type: 'mono-response',
    question: '<p style="margin-left: 0px!important;">Con explicación global.</p>',
    clues: [],
    category: null,
    properties: {
      explanation: '<p style="margin-left: 0px!important;">Explicación global de la pregunta</p>',
      responses: [
        {
          value: {
            response: 'Respuesta 1',
            isCorrectResponse: true,
          },
        },
        {
          value: {
            response: 'Respuesta 2',
            isCorrectResponse: false,
          },
        },
      ],
    },
    isDeleted: false,
    deletedAt: null,
    createdAt: '2024-07-12T12:21:40.306Z',
    updatedAt: '2024-07-12T12:21:40.306Z',
    __v: 0,
    tags: [],
  },
  withExplanationByAnswer: {
    _id: '66911fd4024d3485f91da7ff',
    id: 'lrn:local:tests:local:665a05e7a5fe771aef0e881d:Questions:66911fd4c00cae40605a0732',
    deploymentID: '665a05e7a5fe771aef0e881d',
    questionBank:
      'lrn:local:common:local:665a05e7a5fe771aef0e881d:CurrentVersions:66911fd4c00cae40605a070e@1.0.0',
    type: 'mono-response',
    question:
      '<p style="margin-left: 0px!important;">Con explicación por cada opción de respuesta. (deshabilita explicación global).</p>',
    clues: [],
    category: null,
    properties: {
      explanationInResponses: true,
      responses: [
        {
          value: {
            response: 'Respuesta 1',
            explanation: 'Explicación Respuesta 1',
            isCorrectResponse: true,
          },
        },
        {
          value: {
            response: 'Respuesta 2',
            explanation: 'Explicación Respuesta 2',
            isCorrectResponse: false,
          },
        },
      ],
    },
    isDeleted: false,
    deletedAt: null,
    createdAt: '2024-07-12T12:21:40.305Z',
    updatedAt: '2024-07-12T12:21:40.305Z',
    __v: 0,
    tags: [],
  },
  withClue: {
    _id: '66911fd4024d3485f91da7f5',
    id: 'lrn:local:tests:local:665a05e7a5fe771aef0e881d:Questions:66911fd4c00cae40605a072e',
    deploymentID: '665a05e7a5fe771aef0e881d',
    questionBank:
      'lrn:local:common:local:665a05e7a5fe771aef0e881d:CurrentVersions:66911fd4c00cae40605a070e@1.0.0',
    type: 'mono-response',
    question: '<p style="margin-left: 0px!important;">Con pista de texto.</p>',
    clues: ['Esta es la pista'],
    category: null,
    properties: {
      hasClues: true,
      responses: [
        {
          value: {
            response: 'Respuesta 1',
            isCorrectResponse: false,
          },
        },
        {
          value: {
            response: 'Respuesta 2',
            isCorrectResponse: true,
          },
        },
        {
          value: {
            response: 'Respuesta 3',
            isCorrectResponse: false,
          },
        },
      ],
    },
    isDeleted: false,
    deletedAt: null,
    createdAt: '2024-07-12T12:21:40.304Z',
    updatedAt: '2024-07-12T12:21:40.304Z',
    __v: 0,
    tags: [],
  },
  withHideOptionOnHelp: {
    _id: '66911fd4024d3485f91da7f8',
    id: 'lrn:local:tests:local:665a05e7a5fe771aef0e881d:Questions:66911fd4c00cae40605a0730',
    deploymentID: '665a05e7a5fe771aef0e881d',
    questionBank:
      'lrn:local:common:local:665a05e7a5fe771aef0e881d:CurrentVersions:66911fd4c00cae40605a070e@1.0.0',
    type: 'mono-response',
    question: '<p style="margin-left: 0px!important;">Con pista que oculta opción.</p>',
    clues: [],
    category: null,
    properties: {
      hasClues: true,
      responses: [
        {
          value: {
            response: 'Respuesta 1',
            isCorrectResponse: true,
            hideOnHelp: false,
          },
        },
        {
          value: {
            response: 'Respuesta 2',
            isCorrectResponse: false,
            hideOnHelp: true,
          },
        },
        {
          value: {
            response: 'Respuesta 3',
            isCorrectResponse: false,
            hideOnHelp: false,
          },
        },
      ],
    },
    isDeleted: false,
    deletedAt: null,
    createdAt: '2024-07-12T12:21:40.304Z',
    updatedAt: '2024-07-12T12:21:40.304Z',
    __v: 0,
    tags: [],
  },
  withImageResponses: {
    _id: '66911fd4024d3485f91da990',
    id: 'lrn:local:tests:local:665a05e7a5fe771aef0e881d:Questions:66911fd4c00cae40605a0793',
    deploymentID: '665a05e7a5fe771aef0e881d',
    questionBank:
      'lrn:local:common:local:665a05e7a5fe771aef0e881d:CurrentVersions:66911fd4c00cae40605a070e@1.0.0',
    type: 'mono-response',
    withImages: true,
    question: '<p style="margin-left: 0px!important;">Pregunta con imágenes en las respuestas.</p>',
    clues: [],
    category: null,
    properties: {
      responses: [
        {
          value: {
            image: {
              _id: '66911fd4024d3485f91da8f1',
              id: 'lrn:local:common:local:665a05e7a5fe771aef0e881d:CurrentVersions:66911fd4c00cae40605a073e@1.0.0',
              deploymentID: '665a05e7a5fe771aef0e881d',
              name: 'Image question Response 0',
              description: 'Respuesta 1',
              cover: {
                _id: '668fd3a3af508021a39c8494',
                id: 'lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Files:668fd3a3dce977b2dd145051',
                deploymentID: '665a05e7a5fe771aef0e881d',
                provider: 'leebrary-aws-s3',
                type: 'image/svg+xml',
                extension: 'svg',
                name: 'Practices ico',
                size: 12490,
                uri: 'leemons/665a05e7a5fe771aef0e881d/leebrary/lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Files:668fd3a3dce977b2dd145051.svg',
                metadata: '{"size":"12.2 KB"}',
                isDeleted: false,
                deletedAt: null,
                createdAt: '2024-07-11T12:44:19.564Z',
                updatedAt: '2024-07-11T12:44:19.757Z',
                __v: 0,
              },
              fromUser:
                'lrn:local:users:local:665a05e7a5fe771aef0e881d:Users:665a05f38e2c5a70486025c5',
              fromUserAgent:
                'lrn:local:users:local:665a05e7a5fe771aef0e881d:UserAgent:668fd3fadce977b2dd145496',
              public: true,
              category:
                'lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Categories:665a05ee8e2c5a7048602414',
              indexable: false,
              isCover: false,
              isDeleted: false,
              deletedAt: null,
              createdAt: '2024-07-12T12:21:40.340Z',
              updatedAt: '2024-07-12T12:21:40.340Z',
              __v: 0,
              permissions: {
                viewer: [],
                editor: [],
              },
              duplicable: true,
              downloadable: true,
              tags: [],
              pinned: false,
            },
            imageDescription: 'Respuesta 1',
            isCorrectResponse: true,
          },
        },
        {
          value: {
            image: {
              _id: '66911fd4024d3485f91da8c9',
              id: 'lrn:local:common:local:665a05e7a5fe771aef0e881d:CurrentVersions:66911fd4c00cae40605a0740@1.0.0',
              deploymentID: '665a05e7a5fe771aef0e881d',
              name: 'Image question Response 1',
              description: '',
              cover: {
                _id: '668fd3a9af508021a39c85c4',
                id: 'lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Files:668fd3a9dce977b2dd145091',
                deploymentID: '665a05e7a5fe771aef0e881d',
                provider: 'leebrary-aws-s3',
                type: 'image/svg+xml',
                extension: 'svg',
                name: 'Behavioral frameworks ico',
                size: 11596,
                uri: 'leemons/665a05e7a5fe771aef0e881d/leebrary/lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Files:668fd3a9dce977b2dd145091.svg',
                metadata: '{"size":"11.3 KB"}',
                isDeleted: false,
                deletedAt: null,
                createdAt: '2024-07-11T12:44:25.415Z',
                updatedAt: '2024-07-11T12:44:25.609Z',
                __v: 0,
              },
              fromUser:
                'lrn:local:users:local:665a05e7a5fe771aef0e881d:Users:665a05f38e2c5a70486025c5',
              fromUserAgent:
                'lrn:local:users:local:665a05e7a5fe771aef0e881d:UserAgent:668fd3fadce977b2dd145496',
              public: true,
              category:
                'lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Categories:665a05ee8e2c5a7048602414',
              indexable: false,
              isCover: false,
              isDeleted: false,
              deletedAt: null,
              createdAt: '2024-07-12T12:21:40.334Z',
              updatedAt: '2024-07-12T12:21:40.334Z',
              __v: 0,
              permissions: {
                viewer: [],
                editor: [],
              },
              duplicable: true,
              downloadable: true,
              tags: [],
              pinned: false,
            },
            imageDescription: '',
            isCorrectResponse: false,
          },
        },
      ],
    },
    isDeleted: false,
    deletedAt: null,
    createdAt: '2024-07-12T12:21:40.366Z',
    updatedAt: '2024-07-12T12:21:40.366Z',
    __v: 0,
    tags: [],
  },
  fullExampleWithTextResponses: {
    _id: '66911fd4024d3485f91da961',
    id: 'lrn:local:tests:local:665a05e7a5fe771aef0e881d:Questions:66911fd4c00cae40605a0789',
    deploymentID: '665a05e7a5fe771aef0e881d',
    questionBank:
      'lrn:local:common:local:665a05e7a5fe771aef0e881d:CurrentVersions:66911fd4c00cae40605a070e@1.0.0',
    type: 'mono-response',
    level: 'lowerIntermediate',
    question:
      '<p style="margin-left: 0px!important;">Pregunta con todo v2: Con explicación global y respuestas sin imagen. Los dos tipos de pista.</p>',
    questionImage: {
      _id: '66911fd4024d3485f91da8bf',
      id: 'lrn:local:common:local:665a05e7a5fe771aef0e881d:CurrentVersions:66911fd4c00cae40605a073c@1.0.0',
      deploymentID: '665a05e7a5fe771aef0e881d',
      name: 'Image question',
      cover: {
        _id: '668fd3a1af508021a39c8441',
        id: 'lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Files:668fd3a1dce977b2dd145040',
        deploymentID: '665a05e7a5fe771aef0e881d',
        provider: 'leebrary-aws-s3',
        type: 'image/jpeg',
        extension: 'jpeg',
        name: 'brett-jordan-ELLDKLrXMoA-unsplash',
        size: 24549,
        uri: 'leemons/665a05e7a5fe771aef0e881d/leebrary/lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Files:668fd3a1dce977b2dd145040.jpeg',
        metadata: '{"size":"24.0 KB","format":"JPEG","width":"800","height":"600"}',
        isDeleted: false,
        deletedAt: null,
        createdAt: '2024-07-11T12:44:17.972Z',
        updatedAt: '2024-07-11T12:44:18.338Z',
        __v: 0,
      },
      fromUser: 'lrn:local:users:local:665a05e7a5fe771aef0e881d:Users:665a05f38e2c5a70486025c5',
      fromUserAgent:
        'lrn:local:users:local:665a05e7a5fe771aef0e881d:UserAgent:668fd3fadce977b2dd145496',
      public: true,
      category:
        'lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Categories:665a05ee8e2c5a7048602414',
      indexable: false,
      isCover: false,
      isDeleted: false,
      deletedAt: null,
      createdAt: '2024-07-12T12:21:40.333Z',
      updatedAt: '2024-07-12T12:21:40.333Z',
      __v: 0,
      permissions: {
        viewer: [],
        editor: [],
      },
      duplicable: true,
      downloadable: true,
      tags: [],
      pinned: false,
    },
    clues: ['Pista para pregunta con todo v2'],
    category:
      'lrn:local:tests:local:665a05e7a5fe771aef0e881d:QuestionBankCategories:66911fd4c00cae40605a0724',
    properties: {
      hasCover: true,
      explanation:
        '<p style="margin-left: 0px!important;">Explicación global para pregunta con todo v2</p>',
      hasClues: true,
      responses: [
        {
          value: {
            response: 'Respuesta 1',
            isCorrectResponse: true,
            hideOnHelp: false,
          },
        },
        {
          value: {
            response: 'Respuesta 2',
            isCorrectResponse: false,
            hideOnHelp: false,
          },
        },
        {
          value: {
            response: 'Respuesta 3',
            isCorrectResponse: false,
            hideOnHelp: true,
          },
        },
      ],
    },
    isDeleted: false,
    deletedAt: null,
    createdAt: '2024-07-12T12:21:40.356Z',
    updatedAt: '2024-07-12T12:21:40.356Z',
    __v: 0,
    tags: [],
  },
  fullExampleWithImageresponses: {
    _id: '66911fd4024d3485f91da9d0',
    id: 'lrn:local:tests:local:665a05e7a5fe771aef0e881d:Questions:66911fd4c00cae40605a07a4',
    deploymentID: '665a05e7a5fe771aef0e881d',
    questionBank:
      'lrn:local:common:local:665a05e7a5fe771aef0e881d:CurrentVersions:66911fd4c00cae40605a070e@1.0.0',
    type: 'mono-response',
    withImages: true,
    level: 'beginner',
    question:
      '<p style="margin-left: 0px!important;">Pregunta con todo: nivel principiante, categoría 2, imagen destacada, explicación a cada respuesta, imágenes por espuesta, las dos clases de pista.</p>',
    questionImage: {
      _id: '66911fd4024d3485f91da9b4',
      id: 'lrn:local:common:local:665a05e7a5fe771aef0e881d:CurrentVersions:66911fd4c00cae40605a0797@1.0.0',
      deploymentID: '665a05e7a5fe771aef0e881d',
      name: 'Image question',
      cover: {
        _id: '66911f11024d3485f91da1aa',
        id: 'lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Files:66911f11c00cae40605a06e1',
        deploymentID: '665a05e7a5fe771aef0e881d',
        provider: 'leebrary-aws-s3',
        type: 'image/png',
        extension: 'png',
        name: 'cover',
        size: 25836,
        uri: 'leemons/665a05e7a5fe771aef0e881d/leebrary/lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Files:66911f11c00cae40605a06e1.png',
        isFolder: false,
        metadata: '{"size":"25.2 KB","format":"JPEG","width":"400","height":"600"}',
        isDeleted: false,
        deletedAt: null,
        createdAt: '2024-07-12T12:18:25.350Z',
        updatedAt: '2024-07-12T12:18:26.614Z',
        __v: 0,
        copyright: {
          author: 'Karl Bewick',
          authorProfileUrl: 'https://unsplash.com/@kaaarlb?utm_source=leemons&utm_medium=referral',
          providerUrl: 'https://unsplash.com/?utm_source=leemons&utm_medium=referral',
          provider: 'unsplash',
        },
        externalUrl:
          'https://images.unsplash.com/photo-1709587526751-95d70aa22efa?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w0MTkwMzR8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MjA3ODY2Njh8&ixlib=rb-4.0.3&q=80&w=1080',
      },
      fromUser: 'lrn:local:users:local:665a05e7a5fe771aef0e881d:Users:665a05f38e2c5a70486025c5',
      fromUserAgent:
        'lrn:local:users:local:665a05e7a5fe771aef0e881d:UserAgent:668fd3fadce977b2dd145496',
      public: true,
      category:
        'lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Categories:665a05ee8e2c5a7048602414',
      indexable: false,
      isCover: false,
      isDeleted: false,
      deletedAt: null,
      createdAt: '2024-07-12T12:21:40.374Z',
      updatedAt: '2024-07-12T12:21:40.374Z',
      __v: 0,
      permissions: {
        viewer: [],
        editor: [],
      },
      duplicable: true,
      downloadable: true,
      tags: [],
      pinned: false,
    },
    clues: ['Pista para pregunta con todo '],
    category:
      'lrn:local:tests:local:665a05e7a5fe771aef0e881d:QuestionBankCategories:66911fd4c00cae40605a0722',
    properties: {
      hasCover: true,
      explanationInResponses: true,
      hasClues: true,
      responses: [
        {
          value: {
            image: {
              _id: '66911fd4024d3485f91da8bd',
              id: 'lrn:local:common:local:665a05e7a5fe771aef0e881d:CurrentVersions:66911fd4c00cae40605a073a@1.0.0',
              deploymentID: '665a05e7a5fe771aef0e881d',
              name: 'Image question Response 0',
              description: 'Alt text: Respuesta 1',
              cover: {
                _id: '668fd3b5af508021a39c8850',
                id: 'lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Files:668fd3b5dce977b2dd145117',
                deploymentID: '665a05e7a5fe771aef0e881d',
                provider: 'leebrary-aws-s3',
                type: 'image/webp',
                extension: 'webp',
                name: 'Example of Choice Architecture in a supermarket setting.',
                size: 93766,
                uri: 'leemons/665a05e7a5fe771aef0e881d/leebrary/lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Files:668fd3b5dce977b2dd145117.webp',
                metadata: '{"size":"91.6 KB","format":"JPEG","width":"600","height":"600"}',
                isDeleted: false,
                deletedAt: null,
                createdAt: '2024-07-11T12:44:37.625Z',
                updatedAt: '2024-07-11T12:44:38.269Z',
                __v: 0,
              },
              fromUser:
                'lrn:local:users:local:665a05e7a5fe771aef0e881d:Users:665a05f38e2c5a70486025c5',
              fromUserAgent:
                'lrn:local:users:local:665a05e7a5fe771aef0e881d:UserAgent:668fd3fadce977b2dd145496',
              public: true,
              category:
                'lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Categories:665a05ee8e2c5a7048602414',
              indexable: false,
              isCover: false,
              isDeleted: false,
              deletedAt: null,
              createdAt: '2024-07-12T12:21:40.333Z',
              updatedAt: '2024-07-12T12:21:40.333Z',
              __v: 0,
              permissions: {
                viewer: [],
                editor: [],
              },
              duplicable: true,
              downloadable: true,
              tags: [],
              pinned: false,
            },
            imageDescription: 'Alt text: Respuesta 1',
            explanation: 'Explicación Respuesta 1',
            isCorrectResponse: true,
            hideOnHelp: false,
          },
        },
        {
          value: {
            image: {
              _id: '66911fd4024d3485f91da935',
              id: 'lrn:local:common:local:665a05e7a5fe771aef0e881d:CurrentVersions:66911fd4c00cae40605a0742@1.0.0',
              deploymentID: '665a05e7a5fe771aef0e881d',
              name: 'Image question Response 1',
              description: 'Alt text: Respuesta 2',
              cover: {
                _id: '668fd3b4af508021a39c87fc',
                id: 'lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Files:668fd3b4dce977b2dd145106',
                deploymentID: '665a05e7a5fe771aef0e881d',
                provider: 'leebrary-aws-s3',
                type: 'image/jpeg',
                extension: 'jpeg',
                name: 'Menu de MacDonalds',
                size: 45779,
                uri: 'leemons/665a05e7a5fe771aef0e881d/leebrary/lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Files:668fd3b4dce977b2dd145106.jpeg',
                metadata: '{"size":"44.7 KB","format":"JPEG","width":"509","height":"600"}',
                isDeleted: false,
                deletedAt: null,
                createdAt: '2024-07-11T12:44:36.040Z',
                updatedAt: '2024-07-11T12:44:36.301Z',
                __v: 0,
              },
              fromUser:
                'lrn:local:users:local:665a05e7a5fe771aef0e881d:Users:665a05f38e2c5a70486025c5',
              fromUserAgent:
                'lrn:local:users:local:665a05e7a5fe771aef0e881d:UserAgent:668fd3fadce977b2dd145496',
              public: true,
              category:
                'lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Categories:665a05ee8e2c5a7048602414',
              indexable: false,
              isCover: false,
              isDeleted: false,
              deletedAt: null,
              createdAt: '2024-07-12T12:21:40.351Z',
              updatedAt: '2024-07-12T12:21:40.351Z',
              __v: 0,
              permissions: {
                viewer: [],
                editor: [],
              },
              duplicable: true,
              downloadable: true,
              tags: [],
              pinned: false,
            },
            imageDescription: 'Alt text: Respuesta 2',
            explanation: 'Explicación Respuesta 2',
            isCorrectResponse: false,
            hideOnHelp: true,
          },
        },
        {
          value: {
            image: {
              _id: '66911fd4024d3485f91da8b3',
              id: 'lrn:local:common:local:665a05e7a5fe771aef0e881d:CurrentVersions:66911fd4c00cae40605a0738@1.0.0',
              deploymentID: '665a05e7a5fe771aef0e881d',
              name: 'Image question Response 2',
              description: '',
              cover: {
                _id: '668fd3baaf508021a39c894c',
                id: 'lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Files:668fd3badce977b2dd14514a',
                deploymentID: '665a05e7a5fe771aef0e881d',
                provider: 'leebrary-aws-s3',
                type: 'image/webp',
                extension: 'webp',
                name: 'exemple-nudge-marketing-1',
                size: 39258,
                uri: 'leemons/665a05e7a5fe771aef0e881d/leebrary/lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Files:668fd3badce977b2dd14514a.webp',
                metadata: '{"size":"38.3 KB","format":"WebP"}',
                isDeleted: false,
                deletedAt: null,
                createdAt: '2024-07-11T12:44:42.812Z',
                updatedAt: '2024-07-11T12:44:43.228Z',
                __v: 0,
              },
              fromUser:
                'lrn:local:users:local:665a05e7a5fe771aef0e881d:Users:665a05f38e2c5a70486025c5',
              fromUserAgent:
                'lrn:local:users:local:665a05e7a5fe771aef0e881d:UserAgent:668fd3fadce977b2dd145496',
              public: true,
              category:
                'lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Categories:665a05ee8e2c5a7048602414',
              indexable: false,
              isCover: false,
              isDeleted: false,
              deletedAt: null,
              createdAt: '2024-07-12T12:21:40.332Z',
              updatedAt: '2024-07-12T12:21:40.332Z',
              __v: 0,
              permissions: {
                viewer: [],
                editor: [],
              },
              duplicable: true,
              downloadable: true,
              tags: [],
              pinned: false,
            },
            imageDescription: '',
            explanation: 'Respuesta 3 (no alt text)',
            isCorrectResponse: false,
            hideOnHelp: false,
          },
        },
      ],
    },
    isDeleted: false,
    deletedAt: null,
    createdAt: '2024-07-12T12:21:40.383Z',
    updatedAt: '2024-07-12T12:21:40.383Z',
    __v: 0,
    tags: [],
  },
};

const mapQuestion = {
  _id: '6696312ab6801f025aaa3892',
  id: 'lrn:local:tests:local:665a05e7a5fe771aef0e881d:Questions:6696312aa713e459a23e67b6',
  deploymentID: '665a05e7a5fe771aef0e881d',
  questionBank:
    'lrn:local:common:local:665a05e7a5fe771aef0e881d:CurrentVersions:66911fd4c00cae40605a070e@4.0.0',
  type: 'map',
  level: 'beginner',
  question: '<p style="margin-left: 0px!important;">Enunciado</p>',
  clues: [
    {
      value: 'Pista de texto',
    },
  ],
  category:
    'lrn:local:tests:local:665a05e7a5fe771aef0e881d:QuestionBankCategories:6696312aa713e459a23e6730',
  properties: {
    image: {
      _id: '6696312ab6801f025aaa37a2',
      id: 'lrn:local:common:local:665a05e7a5fe771aef0e881d:CurrentVersions:6696312aa713e459a23e6744@1.0.0',
      deploymentID: '665a05e7a5fe771aef0e881d',
      name: 'Image question',
      cover: {
        _id: '6695560e9dd680cf0b2bf6fa',
        id: 'lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Files:6695560eb4a8956d29bc8081',
        deploymentID: '665a05e7a5fe771aef0e881d',
        provider: 'leebrary-aws-s3',
        type: 'image/png',
        extension: 'png',
        name: 'cover',
        size: 24130,
        uri: 'leemons/665a05e7a5fe771aef0e881d/leebrary/lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Files:6695560eb4a8956d29bc8081.png',
        isFolder: false,
        metadata: '{"size":"23.6 KB","format":"JPEG","width":"400","height":"600"}',
        isDeleted: false,
        deletedAt: null,
        createdAt: '2024-07-15T17:02:06.960Z',
        updatedAt: '2024-07-15T17:02:08.854Z',
        __v: 0,
        copyright: {
          author: 'micheile henderson',
          authorProfileUrl: 'https://unsplash.com/@micheile?utm_source=leemons&utm_medium=referral',
          providerUrl: 'https://unsplash.com/?utm_source=leemons&utm_medium=referral',
          provider: 'unsplash',
        },
        externalUrl:
          'https://images.unsplash.com/photo-1678188466220-07a6f395ecfb?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w0MTkwMzR8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MjEwNjI4OTd8&ixlib=rb-4.0.3&q=80&w=1080',
      },
      fromUser: 'lrn:local:users:local:665a05e7a5fe771aef0e881d:Users:665a05f38e2c5a70486025c5',
      fromUserAgent:
        'lrn:local:users:local:665a05e7a5fe771aef0e881d:UserAgent:668fd3fadce977b2dd145496',
      public: true,
      category:
        'lrn:local:leebrary:local:665a05e7a5fe771aef0e881d:Categories:665a05ee8e2c5a7048602414',
      indexable: false,
      isCover: false,
      isDeleted: false,
      deletedAt: null,
      createdAt: '2024-07-16T08:36:58.315Z',
      updatedAt: '2024-07-16T08:36:58.315Z',
      __v: 0,
      permissions: {
        viewer: [],
        editor: [],
      },
      duplicable: true,
      downloadable: true,
      tags: [],
      pinned: false,
    },
    explanation: '<p style="margin-left: 0px!important;">Explicación</p>',
    hasClues: true,
    markers: {
      list: [
        {
          left: '52.90909980080413%',
          top: '29.168090820312496%',
          response: 'Hilo',
          hideOnHelp: false,
        },
        {
          left: '34.15909837029254%',
          top: '40.834757486979164%',
          response: 'Joyería',
          hideOnHelp: true,
        },
        {
          left: '77.9091017081529%',
          top: '72.83475748697916%',
          response: 'Planta',
          hideOnHelp: false,
        },
      ],
      type: 'numbering',
      backgroundColor: '#3B76CC',
      position: {
        left: '94.65910298607658%',
        top: '84.50142415364583%',
      },
    },
    caption: 'Texto alt',
  },
  isDeleted: false,
  deletedAt: null,
  createdAt: '2024-07-16T08:36:58.353Z',
  updatedAt: '2024-07-16T08:36:58.353Z',
  __v: 0,
  tags: [],
};

const typesDictionary = {
  'mono-response': 'MC',
  'multiple-response': 'MC',
  'missing-word': 'MC',
};

// For all of them, at all depths, null when empty
const normalizedObjectFiels = {
  type: 'string',
  title: 'string',
  stem: { format: 'string', text: 'string' },
  hasEmbeddedAnswers: 'boolean',
  globalFeedback: { format: 'html', text: 'string' },
  choices: [
    {
      isCorrect: 'boolean',
      weight: null,
      text: { format: 'html', text: 'string' },
      feedback: { format: 'html', text: 'string' },
    },
  ],
  id: 'string',
  tags: ['string'],
};

const stemFields = ['format', 'text'];
const choicesFields = [];

const processChoices = (value, withImages, properties) => {
  const { response, image, imageDescription, explanation, isCorrectResponse, hideOnHelp } = value;
  const choice = {
    isCorrect: isCorrectResponse,
    weight: null,
  };

  if (!withImages) {
    choice.text = {
      format: 'plain',
      text: response,
    };
  } else {
    choice.image = image;
    choice.imageDescription = imageDescription;
  }

  choice.feedback = null;
  if (explanation) {
    choice.feedback = {
      format: 'plain',
      text: explanation,
    };
  }

  if (properties.hasClues) {
    choice.hideOnHelp = !!hideOnHelp;
  }

  return choice;
};

function leemonsToJSON({
  type: questionType,
  question,
  properties,
  withImages,
  clues,
  tags: questionTags,
  id,
  category,
}) {
  const tags = questionTags?.length || null; // Supported but not currently in use
  const variation = questionType; // As type MC applies for many types of questions we'll find I way to recognize each
  const stem = {
    format: 'html',
    text: question,
  };
  const hasEmbeddedAnswers = false; // Not implemented currently
  const globalFeedback = properties.explanation
    ? {
        format: 'html',
        text: properties.explanation,
      }
    : null;

  let choices = null;
  let mapProperties = null;

  if (questionType === 'map') {
    mapProperties = {
      image: properties.image,
      imagePosition: {
        left: properties.markers.position.left,
        top: properties.markers.position.top,
      },
      caption: properties.caption,
      markersBackgroundColor: properties.markers.backgroundColor,
      markersType: properties.markers.type,
      markers: properties.markers.list.map((marker) => ({
        response: marker.response,
        hideOnHelp: marker.hideOnHelp,
        left: marker.left,
        top: marker.top,
      })),
    };
  } else {
    choices = properties.responses.map((response) =>
      processChoices(response.value, withImages, properties)
    );
  }

  const finalObject = {
    id,
    tags,
    type: questionType === 'map' ? 'map' : typesDictionary[questionType],
    variation,
    stem,
    hasEmbeddedAnswers,
    globalFeedback,
    clues,
    category,
  };

  if (choices) {
    finalObject.choices = choices;
  }
  if (mapProperties) {
    finalObject.mapProperties = mapProperties;
  }

  return finalObject;
}

export { leemonsMonoResponseQuestions, mapQuestion, leemonsToJSON };

type LeemonsFile = {
  _id: string;
  id: string;
  deploymentID: string;
  provider: string;
  type: string;
  extension: string;
  name: string;
  size: number;
  uri: string;
  metadata: string;
  isDeleted: boolean;
  deletedAt: string | null;
  createdAt: string;
  updatedAt: string;
  __v: number;
};

type LeemonsAsset = {
  id: string;
  deploymentID: string;
  name: string;
  description: string;
  cover: LeemonsFile;
  fromUser: string;
  fromUserAgent: string;
  public: boolean;
  category: string;
  indexable: boolean;
  isCover: boolean;
  isDeleted: boolean;
  permissions: {
    viewer: any[];
    editor: any[];
  };
  duplicable: boolean;
  downloadable: boolean;
  tags: any[];
  pinned: boolean;
  // TODO: Update once stablished
  // ...DB props removed
};

type TextObject = {
  format: 'html' | 'plain';
  text: string;
};

type LeemonsClue = {
  value: string;
};

type Choice = {
  isCorrect: boolean;
  text?: TextObject;
  weight: null | number;
  feedback: TextObject | null;
  hideOnHelp?: boolean;

  // IMAGES AS ANSWERS?
  image?: LeemonsAsset;
  imageDescription?: string;
};

type MapMarker = {
  response: string;
  hideOnHelp: boolean;
  left: string;
  top: string;
};

type MapProperties = {
  image: LeemonsAsset;
  imagePosition: {
    left: string;
    top: string;
  };
  caption: string;
  markersBackgroundColor: string;
  markersType: string;
  markersList: MapMarker[];
};

const questionTypes = [
  'mono-response',
  'multi-response',
  'missing-word',
  'map',
  'true-false',
  'short',
  'matching',
  'numerical',
  'open',
  'description',
] as const;

type QuestionType = (typeof questionTypes)[number];

type LeemonsQuestion = {
  id: string;
  tags: number | null;
  type: QuestionType;
  stem: TextObject;
  hasEmbeddedAnswers: boolean;
  globalFeedback: TextObject | null;
  clues: LeemonsClue[];
  category: string;
  withQuestionImage: boolean;

  // QUESTION SOLUTION PROPS
  choices?: Choice[];
  mapProperties?: MapProperties;
};
